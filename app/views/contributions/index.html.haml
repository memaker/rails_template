- model_class = Contribution
.page-header
  %h1
    = t '.title', :default => model_class.model_name.human.pluralize(:ja).titleize
    %small
      %i.ace-icon.fa.fa-angle-double-right
      Common form elements and layouts

.row
  .col-xs-12
    .full_name
      = "full_name: #{@full_name}"
    .login
      = "login: #{@login}"
    .commits
      .num= "commits: #{@contribution.commits.size if @contribution.present?}"
      - @contribution.commits.to_a.sort_by{|c| c.date }.reverse.each do |commit|
        .commit= "#{commit.date} #{commit.stats[:additions]} #{commit.stats[:deletions]} #{commit.message}"
    .issues
      = "issues: #{@contribution.issues.size if @contribution.present?}"

.row
  .col-xs-12
    #chart

#hey{'data-hey' => @hey.to_json}

%script{:src => "/assets/js/highcharts.js"}
%script{:src => "/assets/js/modules/exporting.js"}

:javascript
  $(function () {
    var series = $('#hey').data('hey');
    console.log(series);

    $('#chart').highcharts({
      chart: {
        //zoomType: 'x'
      },
      title: {
        text: 'USD to EUR exchange rate from 2006 through 2008'
      },
      subtitle: {
        text: document.ontouchstart === undefined ?
          'Click and drag in the plot area to zoom in' :
          'Pinch the chart to zoom in'
      },
      xAxis: {
        type: 'datetime'
        //minRange: 14 * 24 * 3600000 // fourteen days
      },
      yAxis: {
        title: {
          text: 'Exchange rate'
        }
      },
      legend: {
            layout: 'vertical',
            align: 'right',
            verticalAlign: 'middle',
            borderWidth: 0
      },
      plotOptions: {
        //area: {
        //  fillColor: {
        //    linearGradient: { x1: 0, y1: 0, x2: 0, y2: 1},
        //    stops: [
        //      [0, Highcharts.getOptions().colors[0]],
        //      [1, Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get('rgba')]
        //    ]
        //  },
        //  marker: {
        //    radius: 2
        //  },
        //  lineWidth: 1,
        //  states: {
        //    hover: {
        //      lineWidth: 1
        //    }
        //  },
        //  threshold: null
        //}
      },

      series: series
    });
  });

.space-8

%table(border="1")
  %tr
    %th Show
    %th Edit
    %th Destroy

  - @contributions.each do |contribution|
    %tr
      %td= link_to 'Show', contribution, class: 'btn btn-default'
      %td= link_to 'Edit', edit_contribution_path(contribution), class: 'btn btn-default'
      %td= link_to 'Destroy', contribution, :method => :delete, :data => { :confirm => 'Are you sure?' }, class: 'btn btn-danger'

.space-8

= link_to 'New Contributor', new_contribution_path, class: 'btn btn-primary'
